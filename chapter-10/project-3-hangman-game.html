<!DOCTYPE html>
<html>
  <head>
    <title>Hangman Game</title>
    <style>
      .gameArea {
        text-align: center;
        font-size: 2em;
      }
      .box,
      .boxD {
        display: inline-block;
        padding: 5px;
      }
      .boxE {
        display: inline-block;
        width: 40px;
        border: 1px solid #ccc;
        border-radius: 5px;
        font-size: 1.5em;
      }
    </style>
  </head>
  <body>
    <div class="gameArea">
      <div class="score"></div>
      <div class="puzzle"></div>
      <div class="letters"></div>
      <button>Start Game</button>
    </div>
    <script>
      const game = {
        currentWordSolution: "",
        lettersOfSolution: [],
        pageElements: [],
        lettersLeft: 0,
      };
      const words = ["Hello world", "Array", "Button", "JavaScript"];
      const score = document.querySelector(".score");
      const puzzle = document.querySelector(".puzzle");
      const letters = document.querySelector(".letters");
      const button = document.querySelector("button");

      button.onclick = startGame;

      function startGame() {
        if (words.length > 0) {
          button.style.display = "none";
          game.pageElements = [];
          game.lettersLeft = 0;
          game.currentWordSolution = words.shift();
          game.lettersOfSolution = game.currentWordSolution.split("");
          builder();
        } else {
          score.textContent = "All words have been guessed!";
        }
      }















      
      function builder() {
        game.lettersOfSolution.forEach((letter) => {
          if (letter === " ") {
            pageEl("div", puzzle, " ", "boxD");
          } else {
            pageEl("div", puzzle, "-", "boxD");
          }
        });

        alphabet.forEach((letter) => {
          pageEl("div", letters, letter, "box");
        });
        letters.childNodes.forEach((el) => {
          el.addEventListener("click", checker);
        });
      }

      function pageEl(elType, elParent, elOutput, elClass) {
        const temp = document.createElement(elType);
        temp.classList.add(elClass);
        elParent.append(temp);
        temp.textContent = elOutput;
        return temp;
      }

      const gameArea = document.querySelector(".gameArea");
      const alphabet = [
        "A",
        "B",
        "C",
        "D",
        "E",
        "F",
        "G",
        "H",
        "I",
        "J",
        "K",
        "L",
        "M",
        "N",
        "O",
        "P",
        "Q",
        "R",
        "S",
        "T",
        "U",
        "V",
        "W",
        "X",
        "Y",
        "Z",
      ];

      function scoreUpdate() {
        let temp = 0;
        score.innerHTML = `Letters left: ${temp}`;
        puzzle.childNodes.forEach((letter) => {
          if (letter.outerText === "-") {
            temp++;
            score.innerHTML = `Letters left: ${temp}`;
          }
        });
        if (temp <= 0) {
          button.style.display = null;
          alert("You Win!");
        }
      }
      function checker() {
        this.classList.remove("box");
        this.classList.add("boxE");
        this.removeEventListener("click", checker);
        this.style.backgroundColor = "gainsboro";
        checkLetter(this.innerText);
        scoreUpdate();
      }

      function checkLetter(letter) {
        game.lettersOfSolution.forEach((e, i) => {
          if (e.toUpperCase() === letter) {
            puzzle.childNodes[i].innerText = letter;
            score.innerText = Number(score.innerText) - 1;
          }
        });
      }
    </script>
  </body>
</html>
